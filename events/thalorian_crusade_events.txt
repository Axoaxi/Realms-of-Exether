namespace = thalorian_crusade

# Victory
 thalorian_crusade.1 = {
	type = country_event
	placement = root
	title =  thalorian_crusade.1.t
	desc =  thalorian_crusade.1.d
	flavor =  thalorian_crusade.1.f

	duration = 3

	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	immediate = {
		ruler = {
			save_scope_as = ruler_scope
		}
	}		

	option = {
		name =  thalorian_crusade.1.a
		default_option = yes
		trigger = {
			root = c:RAV
		}
		add_modifier = {
			name = thalorian_victor
			months = very_long_modifier_time
		}
		add_loyalists = {
			value = 0.2
		}
			show_as_tooltip = {
				c:TLE = {
					ruler = {
						kill_character = yes
					}
		
					#Create Dunavara
					create_country = {
						tag = DNV
						origin = c:TLE
						state = s:STATE_STORMHOLM.region_state:TLE
					}
					
		
					#Create Thalrea
		
					create_country = {
						tag = THA
						origin = c:TLE
						state = s:STATE_STORMWATCH.region_state:TLE
					}
					

		
					#Create Oltora
					create_country = {
						tag = OLT
						origin = c:TLE
						state = s:STATE_SILVERCREST.region_state:TLE
					}
		

		
					#Create Vranceana
					create_country = {
						tag = VRC
						origin = c:TLE
						state = s:STATE_BRIGHTWATER.region_state:TLE
					}
		

		
					change_tag = THY
	
				}
			}
	}
	option = {
		name =  thalorian_crusade.1.a
		default_option = yes
		trigger = {
			NOT ={
				root = c:RAV
			}
		}
		add_modifier = {
			name = thalorian_victor
			months = very_long_modifier_time
		}
		add_loyalists = {
			value = 0.2
		}
	}
}

# Defeat
 thalorian_crusade.2 = {
	type = country_event
	placement = root
	title =  thalorian_crusade.2.t
	desc =  thalorian_crusade.2.d
	flavor =  thalorian_crusade.2.f

	duration = 3

	event_image = {
		video = "europenorthamerica_political_extremism"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/waving_flag.dds"


	immediate = {
		if = {
			limit = {
				root = c:TLE
			}
		
			ruler = {
				kill_character = yes
			}

			#Create Dunavara
			create_country = {
				tag = DNV
				origin = c:TLE
				state = s:STATE_STORMHOLM.region_state:TLE
			}
			
			every_scope_state = {
				limit = {
					OR = {
						state_region = s:STATE_WINDSONG
						state_region = s:STATE_MISTVALE
						state_region = s:STATE_MOONSHADE
						state_region = s:STATE_IRONWOOD
						state_region = s:STATE_TIMMERHAVEN
					}
				}
				set_state_owner = c:DNV
			}

			#Create Thalrea

			create_country = {
				tag = THA
				origin = c:TLE
				state = s:STATE_STORMWATCH.region_state:TLE
			}
			
			every_scope_state = {
				limit = {
					OR = {
						state_region = s:STATE_HIGHMOOR
						state_region = s:STATE_FARREACH
						state_region = s:STATE_EVERLUND
						state_region = s:STATE_HAVENSHIRE
						state_region = s:STATE_MOONSHADE
					}
				}
				set_state_owner = c:THA
			}

			#Create Oltora
			create_country = {
				tag = OLT
				origin = c:TLE
				state = s:STATE_SILVERCREST.region_state:TLE
			}

			every_scope_state = {
				limit = {
					state_region = s:STATE_THORNFIELD
				}
				set_state_owner = c:OLT
			}

			#Create Vranceana
			create_country = {
				tag = VRC
				origin = c:TLE
				state = s:STATE_BRIGHTWATER.region_state:TLE
			}

			every_scope_state = {
				limit = {
					OR = {
					state_region = s:STATE_SUNDALE
					state_region = s:STATE_WHITESTONE
					}
				}
				set_state_owner = c:VRC
			}

			change_tag = THY

			
		}
	}

	option = {
		name =  thalorian_crusade.2.a
		trigger = {
			root = c:RAV
		}
	}
	option = {
		name =  thalorian_crusade.2.b
		trigger = {
			NOT = {
				root = c:RAV
			}
		}
	}
	option = {
		name =  thalorian_crusade.3.b
		trigger = {
			NOT = {
				root = c:RAV
			}
		}
		play_as = c:VRC
	}
	option = {
		name =  thalorian_crusade.4.b
		trigger = {
			NOT = {
				root = c:RAV
			}
		}
		play_as = c:OLT
	}
	option = {
		name =  thalorian_crusade.5.b
		trigger = {
			NOT = {
				root = c:RAV
			}
		}
		play_as = c:DNV
	}
	option = {
		name =  thalorian_crusade.6.b
		trigger = {
			NOT = {
				root = c:RAV
			}
		}
		play_as = c:THA
	}

}
